# åœ˜éšŠ Git Flow æœ€ä½³å¯¦è¸

æœ¬å°ˆæ¡ˆæ¡ç”¨ç°¡åŒ–ç‰ˆ Git Flow æµç¨‹ï¼Œä»¥**åˆ†æ”¯ç®¡ç† + Pull Request (ï¼°ï¼²)å¯©æŸ¥**ç‚ºæ ¸å¿ƒï¼Œé”åˆ°é«˜æ•ˆã€ç©©å®šèˆ‡æ¸…æ¥šçš„é–‹ç™¼å”ä½œã€‚

## åˆ†æ”¯èªªæ˜

| åˆ†æ”¯åç¨±        | ç”¨é€”                                                                 |
|-----------------|----------------------------------------------------------------------|
| `main`          | ç”¨æ–¼æ­£å¼ä¸Šç·šç‰ˆæœ¬ï¼ˆProduction-readyï¼‰ï¼Œ**å—ä¿è­·ï¼Œä¸å¯ç›´æ¥ push**       |
| `develop`       | é–‹ç™¼æ•´åˆåˆ†æ”¯ï¼Œæ‰€æœ‰åŠŸèƒ½é–‹ç™¼æœ€çµ‚æœƒåˆä½µè‡³æ­¤åˆ†æ”¯ï¼Œ**å—ä¿è­·ï¼Œä¸å¯ç›´æ¥ push**                              |
| `feature/xxx`   | åŠŸèƒ½é–‹ç™¼åˆ†æ”¯ï¼Œå¾ `develop` åˆ†å‡ºï¼Œç”¨æ–¼å–®ä¸€åŠŸèƒ½æˆ–ä»»å‹™                        |
| `hotfix/xxx`    | ç·Šæ€¥ä¿®è£œåˆ†æ”¯ï¼Œå¾ `main` åˆ†å‡ºï¼Œä¿®è£œåš´é‡éŒ¯èª¤                                |
| `release/xxx`   | ç™¼ä½ˆç‰ˆæœ¬æº–å‚™éšæ®µï¼ˆå¯é¸ï¼‰                                                |

> â— æ‰€æœ‰åˆ†æ”¯\uçš†é€é **Pull Request** åˆä½µï¼Œåš´ç¦ç›´æ¥ push è‡³ `main` æˆ– `develop`ã€‚

---

## åˆ†æ”¯å‘½åè¦ç¯„

ç‚ºæå‡ç‰ˆæœ¬æ§ç®¡èˆ‡åœ˜éšŠå”ä½œæ•ˆç‡ï¼Œæ‰€æœ‰åˆ†æ”¯è«‹ä¾ä¸‹åˆ—å‘½åæ ¼å¼è£½ä½œï¼š

```
<é¡å‹>/<æè¿°>[-<ä»»å‹™ID>]
```

### å¸¸ç”¨ prefix ä¸€è¦½

| é¡å‹       | èªªæ˜                             | ç¯„ä¾‹                                |
|------------|----------------------------------|-------------------------------------|
| `feature/` | âœ¨ æ–°åŠŸèƒ½é–‹ç™¼                     | `feature/user-login`                |
| `fix/`     | ğŸ ä¿®å¾© bug                      | `fix/token-refresh`                |
| `hotfix/`  | ğŸ”¥ ç·Šæ€¥ä¿®è£œï¼ˆProductionï¼‰        | `hotfix/crash-on-start`            |
| `release/` | ğŸš€ ç™¼ä½ˆå‰ç‰ˆæœ¬æº–å‚™                 | `release/1.2.0`                     |
| `refactor/`| â™»ï¸ é‡æ§‹ï¼Œç„¡æ”¹è®ŠåŠŸèƒ½é‚è¼¯         | `refactor/order-module`            |
| `docs/`    | ğŸ“š æ–‡ä»¶è®Šæ›´                       | `docs/update-api-docs`             |
| `test/`    | âœ… æ¸¬è©¦ç›¸é—œï¼ˆæ–°å¢æˆ–èª¿æ•´ï¼‰         | `test/user-service-tests`          |
| `chore/`   | â™»ï¸ ç³»çµ±æ€§èª¿æ•´ã€ç›£æ§ã€æ›´æ–°        | `chore/bump-dependencies`          |

---

## é–‹ç™¼æµç¨‹

```bash
# å¾ develop å»ºç«‹åŠŸèƒ½åˆ†æ”¯
git checkout develop
git pull
git checkout -b feature/awesome-feature
```

- é–‹ç™¼å®Œæˆå¾Œï¼Œå»ºç«‹ PR è‡³ `develop`
- å‘½åå»ºè­°ï¼š`feature/login-api`ã€`feature/user-avatar-upload`
- é€šé Code Reviewã€Lint å¾Œåˆä½µ


## Hotfix ç·Šæ€¥ä¿®è£œï¼ˆå¯é¸ï¼‰

```bash
# å¾ main å»ºç«‹ hotfix åˆ†æ”¯
git checkout main
git pull
git checkout -b hotfix/fix-login-error
```

- ä¿®å¾©å®Œæˆå¾Œï¼Œå»ºç«‹ PR è‡³ `main` å’Œ `develop`
- é€šéæ¸¬è©¦å¾Œå…ˆåˆä½µè‡³ main â†’ ç«‹å³éƒ¨ç½²
- å†åˆä½µå› `develop`ï¼Œä¿æŒä¸€è‡´


## ç™¼ä½ˆç‰ˆæœ¬ï¼ˆå¯é¸ï¼‰

è‹¥éœ€æº–å‚™ç©©å®šç‰ˆæœ¬ï¼Œå¯å¾ develop å»ºç«‹ release/xxx åˆ†æ”¯ï¼š

```bash
git checkout develop
git pull
git checkout -b release/1.2.0
```

- åšç‰ˆæœ¬æº–å‚™ï¼ˆbugfixã€æ–‡æª”ã€ç‰ˆæœ¬è™Ÿï¼‰
- ç™¼ä½ˆæ™‚å»ºç«‹ PR â†’ mainï¼Œå† PR â†’ develop


## Pull Request è¦ç¯„

1. æ¯å€‹ PR å°ˆæ³¨ä¸€å€‹åŠŸèƒ½/ ä¿®å¾©
2. PR æ¨™é¡Œæ¸…æ¥šæè¿°è®Šæ›´å…§å®¹ï¼ˆå¯åŠ ä¸Š JIRA æˆ–ä»»å‹™ IDï¼‰
3. å¡«å¯« PR Templateï¼Œæè¿°èƒŒæ™¯ã€è®Šæ›´ã€æ¸¬è©¦æ–¹å¼
4. é€šé CI/Lint
5. reviewer review å¾Œæ‰å¯åˆä½µ


## Commit Message å»ºè­°æ ¼å¼

ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) è¦ç¯„ï¼Œæœ‰åŠ©æ–¼è‡ªå‹•ç”¢ç”Ÿ changelog

```makefile
feat: æ–°å¢ä½¿ç”¨è€…ç™»å…¥åŠŸèƒ½
fix: ä¿®æ­£ token éæœŸéŒ¯èª¤
docs: è£œå…… README ä½¿ç”¨èªªæ˜
refactor: é‡æ§‹é©—è­‰æµç¨‹é‚è¼¯
chore: æ›´æ–°å¥—ä»¶ç‰ˆæœ¬
```

## ä¿è­·ç­–ç•¥å»ºè­°

- `main`, `develop` ç‚º ä¿è­·åˆ†æ”¯
- ç¦æ­¢ç›´æ¥ push
- å¿…é ˆé€šéï¼š
    - è‡³å°‘ 1 äºº Review é€šé
    - ä½¿ç”¨ PR åˆä½µ